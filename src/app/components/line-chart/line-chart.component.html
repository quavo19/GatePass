<div class="w-full h-full relative">
  <svg class="w-full h-full" viewBox="0 0 100 100" preserveAspectRatio="none">
    <defs>
      <linearGradient id="lineGradient" x1="0%" y1="0%" x2="0%" y2="100%">
        <stop offset="0%" style="stop-color:rgba(59, 130, 246, 0.3);stop-opacity:1" />
        <stop offset="100%" style="stop-color:rgba(59, 130, 246, 0.05);stop-opacity:1" />
      </linearGradient>
    </defs>
    <path
      [attr.d]="getPathD() + ' L 100,100 L 0,100 Z'"
      fill="url(#lineGradient)"
      class="transition-all"
    />
    <path
      [attr.d]="getPathD()"
      fill="none"
      stroke="rgba(59, 130, 246, 1)"
      stroke-width="2"
      class="transition-all"
    />
    @for (item of data(); track item.label; let i = $index) {
    <circle
      [attr.cx]="getPointPosition(i, item.value).x"
      [attr.cy]="getPointPosition(i, item.value).y"
      r="2"
      fill="rgba(59, 130, 246, 1)"
      class="transition-all hover:r-3"
      [attr.title]="item.value.toString()"
    />
    }
  </svg>
  <div class="absolute bottom-0 left-0 right-0 flex justify-between items-end pb-1 px-1">
    @for (item of data(); track item.label) {
    <div class="flex-1 flex flex-col items-center gap-1 min-w-0">
      <p class="text-xs text-gray-600 text-center truncate w-full" [title]="item.label">
        {{ item.label }}
      </p>
      <p class="text-xs font-medium text-gray-900">{{ item.value }}</p>
    </div>
    }
  </div>
</div>

