<div
  [ngClass]="[className()]"
  class="relative flex flex-col justify-start font-light text-primary text-base items-start gap-1"
>
  <label [for]="id()" class="block" [class]="isDisabled() ? 'opacity-50' : ''">
    {{ label() }}
    @if (required()) {
    <span class="text-red-700">*</span>
    }
  </label>

  <div class="relative w-full">
    @if (hasLeftIcon()) {
    <div
      [class]="
        textarea()
          ? 'absolute left-4 top-3 z-10'
          : 'absolute left-4 top-1/2 -translate-y-1/2 z-10'
      "
    >
      <ng-content select="[slot=left-icon]"></ng-content>
    </div>
    } @if (hasRightIcon()) {
    <div
      [class]="
        textarea()
          ? 'absolute right-4 top-3 z-10'
          : 'absolute right-4 top-1/2 -translate-y-1/2 z-10'
      "
    >
      <ng-content select="[slot=right-icon]"></ng-content>
    </div>
    } @if (textarea()) {
    <textarea
      [id]="id()"
      [placeholder]="placeholder()"
      [formControl]="control()"
      [class.pl-10]="hasLeftIcon()"
      [class.pr-10]="hasRightIcon()"
      [attr.disabled]="isDisabled() ? '' : null"
      (blur)="inputBlur.emit($event)"
      (keydown)="handleyKeyEvent($event)"
      (keypress)="handleKeyPress($event)"
      (paste)="handlePaste($event)"
      (input)="handleInput($event)"
      [class]="combinedClasses()"
      rows="4"
    ></textarea>
    } @else {
    <input
      [id]="id()"
      [type]="type()"
      [placeholder]="placeholder()"
      [formControl]="control()"
      [class.pl-10]="hasLeftIcon()"
      [class.pr-10]="hasRightIcon()"
      [attr.disabled]="isDisabled() ? '' : null"
      [class.rounded-r-none]="isForChatBox()"
      (blur)="inputBlur.emit($event)"
      (keydown)="handleyKeyEvent($event)"
      (keypress)="handleKeyPress($event)"
      (paste)="handlePaste($event)"
      (input)="handleInput($event)"
      [class]="combinedClasses()"
    />
    } @if (!!errorMessage()) {
    <span
      class="absolute top-full left-0 mt-1 text-xs text-red-700 text-left"
      >{{ errorMessage() }}</span
    >
    }
  </div>
</div>
