<div class="bg-gray-50 md:p-8 p-4 min-h-full">
  <div class="max-w-7xl mx-auto">
    <h1 class="text-3xl font-light text-gray-900 mb-8">Dashboard</h1>

    @if (isLoading()) {
    <div class="bg-white p-8 rounded-xl shadow-sm">
      <div class="space-y-4">
        @for (item of [1, 2, 3, 4]; track item) {
        <div class="animate-pulse">
          <div class="h-64 bg-gray-200 rounded"></div>
        </div>
        }
      </div>
    </div>
    } @else {
    <div class="bg-white p-6 rounded-xl shadow-sm mb-6">
      <h2 class="text-xl font-light text-gray-900 mb-4">
        Monthly Visits Trend
      </h2>
      <div class="h-80">
        <app-bar-chart [data]="monthlyChartData()" [vertical]="true" />
      </div>
    </div>

    <div class="mb-6">
      <h2 class="text-xl font-light text-gray-900 mb-4">
        Visits by Department
      </h2>
      <div class="overflow-x-auto">
        <div class="md:min-w-[768px]">
          <app-top-departments [departmentData]="departmentVisits()" />
        </div>
      </div>
    </div>

    <div class="mb-6">
      <h2 class="text-xl font-light text-gray-900 mb-4">
        Most Visited Staff Members
      </h2>
      <div class="overflow-x-auto">
        <div class="md:min-w-[768px]">
          <app-top-staff [staffData]="mostVisitedStaff()" />
        </div>
      </div>
    </div>

    <div>
      <h2 class="text-xl font-light text-gray-900 mb-4">
        Most Frequent Visitors
      </h2>
      <div class="overflow-x-auto">
        <div class="md:min-w-[768px]">
          <app-top-visitors [visitorData]="mostFrequentVisitors()" />
        </div>
      </div>
    </div>
    }
  </div>
</div>
